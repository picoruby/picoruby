Съдържание:

1. Обща информация.
1.1. Изисквания за компилация.
1.2. Бърза инсталация.
1.3. Легенда.
1.4. Варианти.
1.5. Забележки.
1.6. Алтернативни средства.

2. Линукс конзола.
2.1. Инсталация.
2.2. Използване.
2.3. Кратко описание.
2.4. Легенда.
2.5. Забележки.

3. X11 Window System.
3.1. Инсталация.
3.2. Забележки.

4. Open Type Bitmap.
4.1. Инсталация.
4.2. Забележки.

5. Microsoft Windows.
5.1. Инсталационен пакет.
5.2. Само файл с шрифта.
5.3. Забележки.

6. Често задавани въпроси.

7. Правна информация.
7.1. Лицензи.
7.2. Авторство.

--

1. Обща информация.

Този архив съдържа изходен код за генериране и инсталиране на шрифта
Терминус за Линукс конзола, X11 Window System, Microsoft Windows и системи
поддържащи Open Type Bitmap.

- версия	4.49.1
- размери	6x12, 8x14, 8x16, 10x18, 10x20, 11x22, 12x24, 14x28, 16x32
- тежести	нормален, удебелен, CRT VGA-удебелен
- символи	1356
- формат	Bitmap Distribution Format (BDF) версия 2.1

Набора символи покрива около 120 езикови набора и поддържа ISO8859-1/2/5/7/
9/13/15/16, Paratype-PT154/PT254, KOI8-R/U/E/F, Есперанто, много кодови
страници на IBM, Windows и Macintosh, а също и превдографичните символи на
VGA, vt100 и xterm.


1.1. Изисквания за компилация.

- GNU make
- Python 3.5.0+ (или node.js 6.9.0+ като алтернатива)
- само за X11: bdftopcf
- само за Windows: GCC за Win32/i686
- само за Windows инсталатора: NSIS и patch(1).


1.2. Бърза инсталация.

Командите:

$ ./configure [--prefix=PREFIX]
$ make -j8
# make install fontdir

компилират и инсталират шрифтовете за Линукс конзола и X11 Window System.
Подразбиращият се префикс е /usr/local.


1.3. Легенда.

Имената на файловете са структурирани както следва:

ter-u<РАЗМЕР><СТИЛ>.bdf

където <РАЗМЕР> е височината в точки, а <СТИЛ> е n за нормален (всички
размери), b за удебелен (всички размери освен 6x12), и v за CRT VGA удебелен
(само за 8x14 и 8x16, използва 8 колона на символната матрица).


1.4. Варианти.

Някои символи са реализирани в два варианта. За да използвате алтернативния
вариант, преди инсталация изпълнете:

$ patch -p1 -i alt/<ИМЕ>.diff

Примери за разликите межда вариантите са дадени на страницата на шрифта.
Ако желаете да комбинирате hi2 с dv1 и/или ka2, приложете първо hi2, и след
това hi2-dv1 и/или hi2-ka2. Подразбиращия се вариант на юникод обхвата
2800-28FF е ориентиран към псевдографика.


1.5. Забележки.

Командите отбелязани с $ могат да се изпълняват от обикновен потребител.
Командите за конфигуриране не са задължителни.
"make -j8" изпълнява паралелно 8 задачи.

Размери 6x12, 11x22, 14x28-удебелен и 16x32-нормален са с по-лошо качество
от останалите. Избягвайте ги.

210E и 210F не са наклонени.

226A, 226B и двойно начертаните букви не са много добри.

2135 може би е грешен.

В опит да се компенсира липсващата ширина, буквите от иврит и знака шекел са
с височина на главни букви.


1.6. Алтернативни средства.

Ако изпълнимия файл на Python 3 интерпретатора е python вместо python3:

$ ./configure INT=python

За използване на node.js вместо python:

$ ./configure INT=node EXT=js

--

2. Линукс конзола.

- тежести	нормален, удебелен, CRT VGA-удебелен
- кодировки	ISO8859-1/ISO8859-15/Windows-1252, ISO8859-2/Windows-1250,
		Windows-1251/ISO8859-5, ISO8859-9/Windows-1254, ISO8859-16,
		ISO8859-7/Windows-1253, ISO8859-13/Windows-1257, IBM-437,
		Bulgarian-MIK, KOI8-R, KOI8-U, Paratype-PT154, комбинирана
- формат	PC Screen Font (PSF) с unicode данни


2.1. Инсталация.

$ ./configure [--prefix=ПРЕФИКС | --psfdir=ДИРЕКТОРИЯ]
$ make -j8 psf
# make install-psf

Файловете се компресират с gzip и инсталират в ДИРЕКТОРИЯ. Подразбиращата се
ДИРЕКТОРИЯ е ПРЕФИКС/share/consolefonts. За kbd може да се наложи да смените
директорията на PREFIX/lib/kbd/consolefonts или
PREFIX/share/kbd/consolefonts, в зависимост от версията на kbd.

CRT VGA-удебелените шрифтове, подходящи за само истински CRT текстови
режими, не се инсталират по подразбиране. За инсталирането им изпълнете:

$ make -j8 psf-vgaw
# make install-psf-vgaw


2.2. Използване.

За зареждане на шрифт с consoletools:

$ consolechars [-m КОДИРОВКА] -f ter-<X><РАЗМЕР><СТИЛ>

За зареждане на шрифт с kbd:

$ setfont [-m MAPPING] ter-<X><SIZE><STYLE>

където <X> е символ идентифициращ кодовата страница по списъка от т.2.4.


2.3. Кратко описание.

Командите:

$ ./configure [--prefix=ПРЕФИКС | --psfdir=ДИРЕКТОРИЯ | --psfref=ИМЕНАФАЙЛ]
# make install-psf-ref

инсталират текста от т.2.4 (на английски) под името ИМЕНАФАЙЛ (подразбира
се README.terminus) в ДИРЕКТОРИЯ.


2.4. Легенда.

имена	кодировки		кодови страници

ter-1*	iso01, iso15, cp1252	ISO8859-1, ISO8859-15, Windows-1252
ter-2*	iso02, cp1250		ISO8859-2, Windows-1250
ter-7*	iso07, cp1253		ISO8859-7, Windows-1253
ter-9*	iso09, cp1254		ISO8859-9, Windows-1254
ter-c*	cp1251, iso05		Windows-1251, ISO8859-5
ter-d*	iso13, cp1257		ISO8859-13, Windows-1257
ter-g*	iso16			ISO8859-16
ter-h*	cp1255, iso08		Windows-1255, ISO8859-8
ter-i*	cp437			IBM-437
ter-k*	koi8r			KOI8-R
ter-m*	mik			Bulgarian-MIK
ter-p*	pt154			Paratype-PT154
ter-k*	koi8u			KOI8-U

ter-v*	всички изброени по-горе кодировки / страници и много други, около
	110 езикови набора, 8 или 16 цвята за текст в зависимост от ядрото и
	конзолния драйвер

имена	тежест

ter-*n	нормален
ter-*b	удебелен
ter-*v	CRT VGA-удебелен


2.5. Забележки.

Комбинираната кодова страница е базирана IBM-437 (символ 0xFF е ogonek).
ISO8859-16 шрифта включва също всички букви и акценти от Windows-1250.

--

3. X11 Window System.

- тежести	нормален, удебелен
- кодировки	ISO8859-1/Windows-1252, ISO8859-2, ISO8859-5, ISO8859-7,
		ISO8859-9/Windows-1254, ISO8859-13, ISO8859-15, ISO8859-16,
		Windows-1251, IBM-437, KOI8-R, KOI8-U, Paratype-PT154 и
		ISO10646-1 (уникод)
- формат	Portable Compiled Font (PCF)


3.1. Инсталация.

$ ./configure [--prefix=ПРЕФИКС | --x11dir=ДИРЕКТОРИЯ]
$ make pcf
# make install-pcf

Файловете се компресират с gzip и инсталират в ДИРЕКТОРИЯ. Подразбиращата се
ДИРЕКТОРИЯ е ПРЕФИКС/share/fonts/terminus. Изисква се bdftopcf.

Копие на нормалния 6x12 шрифт се инсталира като "удебелен", защото някои
X11 библиотеки и програми заменят липсващите удебелени шрифтове чрез
отместване на нормалните, а други изобщо не разпознават удебелена тежест,
ако такава липсва в най-малкия размер на шрифта.

За да актуализирате fonts.dir в ДИРЕКТОРИЯ след (де)инсталация, изпълнете:

# make fontdir

Конфигурационния файл, изброяващ директориите за шрифтове, трябва да включва
ДИРЕКТОРИЯ. За да се обнови списъка от шрифтове може да се наложи рестарт на
X11 сървъра.

По подразбиране се инсталира само уникод (ISO10646-1) шрифта. За инсталиране
на останалите кодови страници:

$ make -j8 pcf-8bit
# make install-pcf-8bit


3.2. Забележки.

ISO8859-1 и ISO8859-9 шрифтовете съдържат Windows Western символите и могат
да бъдат използвани съответно като Windows-1252 и Windows-1254.

--

4. Open Type Bitmap.

- тежести	нормален, удебелен
- кодировки	ISO10646-1 (уникод)
- формат	растерен TrueType за Linux/UNIX


4.1. Инсталация.

$ ./configure [--prefix=ПРЕФИКС | --otbdir=ДИРЕКТОРИЯ]
$ make otb
# make install-otb

Файловете се инсталират в ДИРЕКТОРИЯ.
Подразбиращата се ДИРЕКТОРИЯ е ПРЕФИКС/share/fonts/terminus.


4.2. Забележки.

За всеки BDF файл се генерира отделен OTB файл, вместо да се комбинират
по тежест, по следните причини:

- Съвместимост с КДЕ. При комбинирани файлове е достъпен само първия размер.

- Коректни глобални размери. Например базовата линия и ширината на символите
  (измервани по височината) не могат да бъдат еднакви за 8x14 и 8x16.

otb1cli НЕ Е пълноценен конвертор от BDF към TTF. Символите предварително
се растеризират, използват се растеризизираните ширини, не се поддържат
застъпващи се символи, и резултата е предназначен само за Linux/UNIX.

--

5. Microsoft Windows.

- тежести	нормален, удебелен
- кодировки	Windows-1252, 1250, 1253, 1254, 1251 and 1257
- формат	Font File Format версия 2.0, компилиран във FON


5.1. Инстанационен пакет.

Уверете се, че към шрифта не са прилагани корекции за варианти (т.1.4).

> cd win32
> build

Бъдете търпеливи, процеса може да отнеме няколко минути.
След това отворете terminus.nsi и го компилирайте.


5.2. Само файл с шрифта.

> copy *.bdf win32
> cd win32
> make -j8

Можете са инсталирате terminus.fon по стандартните начини.


5.3. Забележки.

Кодовите страници за Windows съдържат общо 384 символа. Всички останали
символи (математика, превдографика и т.н.) засега не са достъпни.

--

6. Често задавани въпроси.

В. Наклонена версия?

О. Не. Качеството е доста по-ниско, а и запазването ширината на символите
изисква припокриване, което не се обработва много добре от X11/Xft. Ако Ви
е много необходима, пробвайте mkitalic от FreeBSD или bdfslant от Debian.

В. Мащабируема версия?

О. Вероятно не. Шрифта използва мого хоризонтални и вертикални линии, които
са подходящш ра растерна графика, но не толкова за векторна. Може би
растерен шрифт, комплектован като TrueType.

В. Какво ще кажете за някои нови символи?

О. Пишете ми и имайте готовност да помогнете.

В. Удебеленият 6x12 шрифт...

О. ...не съществува, в матрица 6x12 няма достатъчно място за добър удебелен
шрифт. Всъщност "нормалният" шрифт е някъде по средата.

В. Шрифтът работи с X11/Motif, но не и с GNOME/KDE/Xfce.

О. Опитайте да добавите 75-yes-terminus.conf към конфигурационните файлове
на Fontconfig. За някои версии на Fontconfig, може да се наложи да замените
текста "Terminus" във файла с "xos4 Terminus", макар че е слабо вероятно.
Вижте също mkfontscale(1), mkfontdir(1), fc-cache(1), xorg.conf(5), xfs(1),
xlsfonts(1), fonts-conf(5) и т.н.

В. Моя терминален емулатор не извежда кирилица/псевдографика/...
О. Ако имате инсталирани 8-битовите кодови страници за X11, и емулатора
използва "XLFD" имена на шрифтовете, уверете се че името на шрифта завършва
на "-10616-1" вместо "-*-*".

--

7. Правна информация.


7.1. Лицензи.

Terminus Font е лицензизан под SIL Open Font License, версия 1.1.
Лицензът е включен като OFL.TXT, и е достъпен заедно с FAQ на адрес:
http://scripts.sil.org/OFL

Шрифтът включва два варианта на юникод обхвата 2800-28FF, но по никакъв
начин не поддържа Брайловата азбука.

Конфигурационните файлове, както и изходния код на python и javascript, се
разпространяват под GNU General Public License версия 2.0 или (по Ваше
усмотрение) която и да е по-късна версия.


7.2. Авторство.

Terminus Font 4.49.1, Copyright (C) 2020 Димитър Тошков Жеков.
Адрес за кореспонденция <dimitar.zhekov@gmail.com>

Благодаря на Антон Зиновиев, Тим Алън, Кир Колышкин, Антониос Галанопулос и
всички останали, които помогнаха.
